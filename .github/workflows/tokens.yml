name: Generate design tokens

on:
  push:
    paths:
      - 'token/**/*.json'

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'

      - name: Install pnpm
        run: npm install -g pnpm # pnpm 설치

      - name: Install dependencies
        run: pnpm install # pnpm 사용하여 의존성 설치

      - name: Build tokens
        run: pnpm run build:tokens # pnpm을 사용하여 빌드

      - name: Commit changes
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: 'chore: update design tokens'
          file_pattern: 'src/styles/_tokens.scss'
